# 脚本摘要

维护人：檀明

创建时间：2023.01.31

更新时间：



1. 导入镜像入新的Harbor私有仓库。


# 入参说明

| 参数     | 参数名称     | 类型   | 必填 | 默认值    | 备注                 |
| -------- | ------------ | ------ | ---- | --------- | -------------------- |
| url     | 私有镜像库地址 | 字符串 | 是   | 127.0.0.1 |                      |
| port     | 服务暴露端口  | 数值   | 否   | 80        |                      |
| user     | 私有镜像库账号  | 字符串   | 是   | admin        |                      |
| passwd     | 私有镜像库密码     | 字符串   | 是   | Harbor12345         |  |       |
| unstall | 卸载已安装     | 数值 | 否   | 0          | 0=不生效；1=生效       |




# 返回值说明

``` shell

result：0 # 导入结果 0=执行成功；1=不成功；
message：succeed # 执行成功
url: https://www/harbor.com # Harbor服务所在url

```



# 脚本示例

``` shell
./run.sh --url=https://www/harbor.com --port=80 --user=“admin” --passwd=”Harbor12345“ 
```



# 脚本逻辑

1. 镜像导入目标镜像库；
2. 定义目标镜像库地址外加端口号；
3. 定义访问Harbor服务的账号跟密码；
4. 检查安装包是否存在目标文件夹；
5. 输出导入结果信息；
6. 输出导入是否成功；